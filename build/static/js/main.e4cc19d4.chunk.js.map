{"version":3,"sources":["components/TodoItem.js","components/Input.js","components/Filter.js","lib/firebase.js","hooks/fbStorage.js","components/Todo.js","components/Login.js","components/Upload.js","App.js","reportWebVitals.js","index.js"],"names":["TodoItem","item","onCheck","className","type","checked","done","onChange","text","Input","onAdd","React","useState","setText","class","placeholder","value","e","target","onKeyDown","keyCode","Filter","handleClick","key","preventDefault","href","onClick","bind","firebase","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","getFirebaseItems","a","collection","get","snapshot","items","docs","map","doc","data","id","console","log","addFirebaseItem","todoRef","add","updateFirebaseItem","update","clearFirebaseItem","delete","then","catch","err","uiConfig","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","storeUserInfo","user","uid","userDoc","exists","set","name","displayName","updateUser","image","uploadImage","ref","storage","child","downloadUrl","put","getDownloadURL","useFbStorage","setItems","useEffect","getItems","_items","addItem","newItem","updateItem","changes","newItems","Todo","clearItems","filter","setFilter","displayItems","handleCheck","Login","firebaseAuth","Upload","userImage","onSletctedImage","isModal","setIsModal","active","imageUrl","setImageUrl","handleImage","event","files","ImageViewer","src","alt","aria-label","App","loading","setLoading","setUser","onAuthStateChanged","newUser","logout","signOut","handleImageChanged","downlodUrl","HeaderContent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4cc19d4.chunk.js","sourcesContent":["function TodoItem({ item, onCheck }) {\r\n  const handleChange = () => {\r\n    onCheck(item);\r\n  }\r\n  return (\r\n    <label className=\"panel-block\">\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={item.done}\r\n        onChange={handleChange}\r\n      />\r\n      <span className={item.done ? 'has-text-grey-light' : ''}>\r\n        {item.text}\r\n      </span>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default TodoItem;","import React, { useState } from 'react';\r\n\r\nfunction Input( { onAdd } ) {\r\n  const [text, setText] = React.useState('');\r\n\r\n  const handleChange = e => setText(e.target.value);\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.keyCode === 13) {\r\n      onAdd(text);\r\n      setText('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"panel-block\">\r\n      <input\r\n        class=\"input\"\r\n        type=\"text\"\r\n        placeholder=\"Todoを入力してください\"\r\n        value={text}\r\n        onChange={handleChange}\r\n        onKeyDown={handleKeyDown}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","function Filter({ value, onChange }) {\r\n\r\n  const handleClick = (key, e) => {\r\n    e.preventDefault();\r\n    onChange(key);\r\n  };\r\n\r\n  return (\r\n    <div className=\"panel-tabs\">\r\n      <a\r\n        href=\"#\"\r\n        onClick={handleClick.bind(null, 'ALL')}\r\n        className={value === 'ALL' ?  'is-active' : ''}\r\n      >全て</a>\r\n      <a\r\n        href=\"#\"\r\n        onClick={handleClick.bind(null, 'TODO')}\r\n        className={value === 'TODO' ?  'is-active' : ''}\r\n      >未完了</a>\r\n      <a\r\n        href=\"#\"\r\n        onClick={handleClick.bind(null, 'DONE')}\r\n        className={value === 'DONE' ?  'is-active' : ''}\r\n      >完了済み</a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter","\r\nimport firebase from 'firebase';\r\nimport \"firebase/auth\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBhSlGxvNLlKpHyfC7wlAaIK7CoZzDhMAM\",\r\n    authDomain: \"fir-sample-f3651.firebaseapp.com\",\r\n    projectId: \"fir-sample-f3651\",\r\n    storageBucket: \"fir-sample-f3651.appspot.com\",\r\n    messagingSenderId: \"712146105096\",\r\n    appId: \"1:712146105096:web:b1a8cf609ac13e1b9ff2bd\"\r\n  };\r\n\r\nif (!firebase.apps.length) {\r\n    firebase.initializeApp(firebaseConfig)\r\n}\r\n\r\nconst db = firebase.firestore();\r\nexport const auth = firebase.auth();\r\nexport default firebase;\r\n\r\nexport const getFirebaseItems = async () => {\r\n  try {\r\n    const snapshot = await db\r\n      .collection(\"todos\")\r\n      .get();\r\n    const items = snapshot.docs.map(\r\n      (doc) => ({ ...doc.data(), id: doc.id })\r\n    );\r\n    return items;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport const addFirebaseItem = async (item) => {\r\n  try {\r\n    const todoRef = db.collection(\"todos\");\r\n    await todoRef.add(item);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport const updateFirebaseItem = async (item, id) => {\r\n  try {\r\n    const todoRef = db.collection(\"todos\").doc(id);\r\n    await todoRef.update(item);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport const clearFirebaseItem = async (item) => {\r\n  const todoRef = db.collection(\"todos\").doc(item.id);\r\n  await todoRef.delete().then(function () {\r\n  }).catch(function (err) {\r\n    console.log(err);\r\n  });\r\n};\r\n\r\nexport const uiConfig = {\r\n  signInFlow: 'popup',\r\n  signInSuccessUrl: \"/\",\r\n  signInOptions: [\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n  ],\r\n}\r\n\r\nexport const storeUserInfo = async (user) => {\r\n  const { uid } = user;\r\n  const userDoc = await db.collection(\"users\").doc(uid).get();\r\n  if (!userDoc.exists) {\r\n    await db.collection(\"users\").doc(uid).set({ name: user.displayName });\r\n    return {\r\n      name: user.displayName,\r\n      id: uid,\r\n    };\r\n  } else {\r\n    return {\r\n      id: uid,\r\n      ...userDoc.data(),\r\n    };\r\n  }\r\n}\r\n\r\nexport const updateUser = async (user, image) => {\r\n  try {\r\n    const userDoc = await firebase.firestore().collection(\"users\").doc(user.id).get();\r\n    if (userDoc.exists) {\r\n      await firebase.firestore().collection(\"users\").doc(user.id).update({ ...userDoc.data(), image: image });\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\n\r\nexport const uploadImage = async (image) => {\r\n  const ref = firebase.storage().ref().child(`/images/${image.name}`);\r\n  let downloadUrl = \"\";\r\n  try {\r\n    await ref.put(image);\r\n    downloadUrl = await ref.getDownloadURL();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n  return downloadUrl;\r\n};","import { useState, useEffect } from 'react';\r\n\r\nimport { addFirebaseItem, updateFirebaseItem, getFirebaseItems, clearFirebaseItem } from \"../lib/firebase\";\r\n\r\nfunction useFbStorage() {\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getItems();\r\n  }, [items]);\r\n\r\n  const getItems = async () => {\r\n    const _items = await getFirebaseItems();\r\n    setItems(_items);\r\n  };\r\n\r\n  const addItem = async item => {\r\n    const newItem = { text: item.text, done: item.done };\r\n    await addFirebaseItem(newItem);\r\n    setItems([...items, newItem]);\r\n  };\r\n\r\n  const updateItem = async checked => {\r\n    const changes = { done: !checked.done };\r\n    await updateFirebaseItem(changes, checked.id);\r\n    const newItems = items.map((item) => {\r\n      if (item.id === checked.id) {\r\n        item = { ...item, changes}\r\n      }\r\n      return item;\r\n    })\r\n    setItems(newItems);\r\n  }\r\n\r\n  const clearItems = () => {\r\n    items.map(item => {\r\n      clearFirebaseItem(item);\r\n    })\r\n    setItems([]);\r\n  };\r\n\r\n  return [items, addItem, updateItem, clearItems];\r\n}\r\n\r\nexport default useFbStorage;","import React, { useState } from 'react';\r\n\r\n/* コンポーネント */\r\nimport TodoItem from './TodoItem';\r\nimport Input from './Input';\r\nimport Filter from './Filter';\r\n\r\n/* カスタムフック */\r\nimport useFbStorage from '../hooks/fbStorage';\r\n\r\n/* ライブラリ */\r\n// import {getKey} from \"../lib/util\";\r\n\r\nfunction Todo() {\r\n  const [items, addItem, updateItem, clearItems] = useFbStorage();\r\n  \r\n  const [filter, setFilter] = React.useState('ALL');\r\n\r\n  const displayItems = items.filter(item => {\r\n    if (filter === 'ALL') return true;\r\n    if (filter === 'TODO') return !item.done;\r\n    if (filter === 'DONE') return item.done;\r\n  });\r\n  \r\n  const handleCheck = checked => {\r\n    updateItem(checked);\r\n  };\r\n  \r\n  const handleAdd = text => {\r\n    addItem({ text, done: false });\r\n  };\r\n  \r\n  const handleFilterChange = value => setFilter(value);\r\n\r\n  return (\r\n    <article class=\"panel is-danger\">\r\n      <div className=\"panel-heading\">\r\n        <span class=\"icon-text\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-calendar-check\"></i>\r\n          </span>\r\n          <span> ITSS Todoアプリ</span>\r\n        </span>\r\n      </div>\r\n      <Input onAdd={handleAdd} />\r\n      <Filter\r\n        onChange={handleFilterChange}\r\n        value={filter}\r\n      />\r\n      {displayItems.map(item => (\r\n        <TodoItem \r\n          key={item.key}\r\n          item={item}\r\n          onCheck={handleCheck}\r\n        />\r\n      ))}\r\n      <div className=\"panel-block\">\r\n        {displayItems.length} items\r\n      </div>\r\n      <div className=\"panel-block\">\r\n        <button className=\"button is-light is-fullwidth\" onClick={clearItems}>\r\n          全てのToDoを削除\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Todo;","import React from 'react';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\n\r\n/* ライブラリ */\r\nimport { firebase, auth, uiConfig } from \"../lib/firebase\";\r\n\r\nfunction Login() {\r\n  return (\r\n    <div className=\"column panel-block\">\r\n      <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={auth} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { useState } from 'react'\r\n\r\n/* ライブラリ */\r\nimport { uploadImage } from \"../lib/firebase\";\r\n\r\nfunction Upload({ userImage, onSletctedImage }) {\r\n  const [isModal, setIsModal] = useState(false);\r\n  const active = isModal ? \"is-active\" : \"\";\r\n  const [imageUrl, setImageUrl] = useState(userImage);\r\n\r\n  const handleImage = async event => {\r\n    const image = event.target.files[0];\r\n    const imageUrl = await uploadImage(image);\r\n    onSletctedImage(imageUrl);\r\n    setImageUrl(imageUrl);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setIsModal(!isModal);\r\n  };\r\n\r\n  const ImageViewer = () => {\r\n    if (!imageUrl) {\r\n      return <i class=\"fas fa-user\"></i>\r\n    } else {\r\n      return (\r\n        <div>\r\n          <img src={imageUrl} alt=\"avatar\"/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className={`modal ${active}`}>\r\n        <div class=\"modal-background\"></div>\r\n        <div class=\"modal-content\">\r\n          <div class=\"file is-boxed\" >\r\n            <label class=\"file-label\">\r\n              <input class=\"file-input\" type=\"file\" name=\"resume\" onChange={handleImage} />\r\n              <span class=\"file-cta\">\r\n                <span class=\"file-icon\">\r\n                  <i class=\"fas fa-upload\"></i>\r\n                </span>\r\n                <span class=\"file-label\">画像を選択してください</span>\r\n              </span>\r\n            </label>\r\n          </div>\r\n          <button class=\"modal-close is-large\" aria-label=\"close\" onClick={handleClick}></button>\r\n        </div>\r\n      </div>\r\n      <button onClick={handleClick} class=\"button is-primary is-inverted\">\r\n        <span class=\"icon\">\r\n          <ImageViewer />\r\n        </span>\r\n      </button>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default Upload","import React, { useEffect, useState }  from 'react'\r\n\r\n/* スタイルシート */\r\nimport './styles/main.css';\r\n\r\n/* コンポーネント */\r\nimport Todo from './components/Todo';\r\nimport Login from \"./components/Login\";\r\nimport Upload from \"./components/Upload\";\r\n\r\nimport { auth, storeUserInfo, updateUser } from \"./lib/firebase\";\r\n\r\nfunction App() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(async (user) => {\r\n      setLoading(false);\r\n      let newUser = null;\r\n      if (user) {\r\n        newUser = await storeUserInfo(user);\r\n      }\r\n      setUser(newUser);\r\n    });\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    auth.signOut();\r\n  };\r\n  \r\n  const handleImageChanged = async downlodUrl => {\r\n    await updateUser(user, downlodUrl);\r\n  }\r\n  \r\n  const HeaderContent = () => {\r\n    if (user) {\r\n      return (\r\n        <div class=\"navbar-end\">\r\n          <div class=\"navbar-item\">\r\n            <Upload userImage={user.image} onSletctedImage={handleImageChanged} />\r\n            {user.name}\r\n          </div>\r\n          <div class=\"navbar-item\">\r\n            <button class=\"button is-danger is-light is-small\" onClick={logout} > Logout</button>\r\n          </div>\r\n        </div >\r\n      )\r\n    } else {\r\n      return (<Login />)\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className=\"container is-fluid\">\r\n      <header class=\"navbar\">\r\n        {loading ? (\r\n          <p>\r\n            LOADING.....\r\n          </p>\r\n        ) : (\r\n          <HeaderContent />\r\n        )}\r\n      </header >\r\n      <div>\r\n        {user && <Todo />}\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}