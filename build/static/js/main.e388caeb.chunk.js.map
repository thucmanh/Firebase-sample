{"version":3,"sources":["components/TodoItem.js","components/Input.js","components/Filter.js","lib/firebase.js","hooks/fbStorage.js","components/Todo.js","App.js","reportWebVitals.js","index.js"],"names":["TodoItem","item","onCheck","className","type","checked","done","onChange","text","Input","onAdd","React","useState","setText","class","placeholder","value","e","target","onKeyDown","keyCode","Filter","handleClick","key","preventDefault","href","onClick","bind","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","getFirebaseItems","auth","a","collection","get","snapshot","items","docs","map","doc","data","id","console","log","addFirebaseItem","todoRef","add","updateFirebaseItem","update","clearFirebaseItem","delete","then","catch","err","useFbStorage","setItems","useEffect","getItems","_items","addItem","newItem","updateItem","changes","newItems","Todo","clearItems","filter","setFilter","displayItems","handleCheck","length","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e388caeb.chunk.js","sourcesContent":["function TodoItem({ item, onCheck }) {\r\n  const handleChange = () => {\r\n    onCheck(item);\r\n  }\r\n  return (\r\n    <label className=\"panel-block\">\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={item.done}\r\n        onChange={handleChange}\r\n      />\r\n      <span className={item.done ? 'has-text-grey-light' : ''}>\r\n        {item.text}\r\n      </span>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default TodoItem;","import React, { useState } from 'react';\r\n\r\nfunction Input( { onAdd } ) {\r\n  const [text, setText] = React.useState('');\r\n\r\n  const handleChange = e => setText(e.target.value);\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.keyCode === 13) {\r\n      onAdd(text);\r\n      setText('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"panel-block\">\r\n      <input\r\n        class=\"input\"\r\n        type=\"text\"\r\n        placeholder=\"Todoを入力してください\"\r\n        value={text}\r\n        onChange={handleChange}\r\n        onKeyDown={handleKeyDown}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","function Filter({ value, onChange }) {\r\n\r\n  const handleClick = (key, e) => {\r\n    e.preventDefault();\r\n    onChange(key);\r\n  };\r\n\r\n  return (\r\n    <div className=\"panel-tabs\">\r\n      <a\r\n        href=\"#\"\r\n        onClick={handleClick.bind(null, 'ALL')}\r\n        className={value === 'ALL' ?  'is-active' : ''}\r\n      >全て</a>\r\n      <a\r\n        href=\"#\"\r\n        onClick={handleClick.bind(null, 'TODO')}\r\n        className={value === 'TODO' ?  'is-active' : ''}\r\n      >未完了</a>\r\n      <a\r\n        href=\"#\"\r\n        onClick={handleClick.bind(null, 'DONE')}\r\n        className={value === 'DONE' ?  'is-active' : ''}\r\n      >完了済み</a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter","import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBhSlGxvNLlKpHyfC7wlAaIK7CoZzDhMAM\",\r\n    authDomain: \"fir-sample-f3651.firebaseapp.com\",\r\n    projectId: \"fir-sample-f3651\",\r\n    storageBucket: \"fir-sample-f3651.appspot.com\",\r\n    messagingSenderId: \"712146105096\",\r\n    appId: \"1:712146105096:web:b1a8cf609ac13e1b9ff2bd\"\r\n  };\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\nexport const auth = firebase.auth();\r\nexport default firebase;\r\n\r\nexport const getFirebaseItems = async () => {\r\n  try {\r\n    const snapshot = await db\r\n      .collection(\"todos\")\r\n      .get();\r\n    const items = snapshot.docs.map(\r\n      (doc) => ({ ...doc.data(), id: doc.id })\r\n    );\r\n    return items;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport const addFirebaseItem = async (item) => {\r\n  try {\r\n    const todoRef = db.collection(\"todos\");\r\n    await todoRef.add(item);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport const updateFirebaseItem = async (item, id) => {\r\n  try {\r\n    const todoRef = db.collection(\"todos\").doc(id);\r\n    await todoRef.update(item);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport const clearFirebaseItem = async (item) => {\r\n  const todoRef = db.collection(\"todos\").doc(item.id);\r\n  await todoRef.delete().then(function () {\r\n  }).catch(function (err) {\r\n    console.log(err);\r\n  });\r\n};","import { useState, useEffect } from 'react';\r\n\r\nimport { addFirebaseItem, updateFirebaseItem, getFirebaseItems, clearFirebaseItem } from \"../lib/firebase\";\r\n\r\nfunction useFbStorage() {\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getItems();\r\n  }, [items]);\r\n\r\n  const getItems = async () => {\r\n    const _items = await getFirebaseItems();\r\n    setItems(_items);\r\n  };\r\n\r\n  const addItem = async item => {\r\n    const newItem = { text: item.text, done: item.done };\r\n    await addFirebaseItem(newItem);\r\n    setItems([...items, newItem]);\r\n  };\r\n\r\n  const updateItem = async checked => {\r\n    const changes = { done: !checked.done };\r\n    await updateFirebaseItem(changes, checked.id);\r\n    const newItems = items.map((item) => {\r\n      if (item.id === checked.id) {\r\n        item = { ...item, changes}\r\n      }\r\n      return item;\r\n    })\r\n    setItems(newItems);\r\n  }\r\n\r\n  const clearItems = () => {\r\n    items.map(item => {\r\n      clearFirebaseItem(item);\r\n    })\r\n    setItems([]);\r\n  };\r\n\r\n  return [items, addItem, updateItem, clearItems];\r\n}\r\n\r\nexport default useFbStorage;","import React, { useState } from 'react';\r\n\r\n/* コンポーネント */\r\nimport TodoItem from './TodoItem';\r\nimport Input from './Input';\r\nimport Filter from './Filter';\r\n\r\n/* カスタムフック */\r\nimport useFbStorage from '../hooks/fbStorage';\r\n\r\n/* ライブラリ */\r\n// import {getKey} from \"../lib/util\";\r\n\r\nfunction Todo() {\r\n  const [items, addItem, updateItem, clearItems] = useFbStorage();\r\n  \r\n  const [filter, setFilter] = React.useState('ALL');\r\n\r\n  const displayItems = items.filter(item => {\r\n    if (filter === 'ALL') return true;\r\n    if (filter === 'TODO') return !item.done;\r\n    if (filter === 'DONE') return item.done;\r\n  });\r\n  \r\n  const handleCheck = checked => {\r\n    updateItem(checked);\r\n  };\r\n  \r\n  const handleAdd = text => {\r\n    addItem({ text, done: false });\r\n  };\r\n  \r\n  const handleFilterChange = value => setFilter(value);\r\n\r\n  return (\r\n    <article class=\"panel is-danger\">\r\n      <div className=\"panel-heading\">\r\n        <span class=\"icon-text\">\r\n          <span class=\"icon\">\r\n            <i class=\"fas fa-calendar-check\"></i>\r\n          </span>\r\n          <span> ITSS Todoアプリ</span>\r\n        </span>\r\n      </div>\r\n      <Input onAdd={handleAdd} />\r\n      <Filter\r\n        onChange={handleFilterChange}\r\n        value={filter}\r\n      />\r\n      {displayItems.map(item => (\r\n        <TodoItem \r\n          key={item.key}\r\n          item={item}\r\n          onCheck={handleCheck}\r\n        />\r\n      ))}\r\n      <div className=\"panel-block\">\r\n        {displayItems.length} items\r\n      </div>\r\n      <div className=\"panel-block\">\r\n        <button className=\"button is-light is-fullwidth\" onClick={clearItems}>\r\n          全てのToDoを削除\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Todo;","import React from 'react'\r\n\r\n/* スタイルシート */\r\nimport './styles/main.css';\r\n\r\n/* コンポーネント */\r\nimport Todo from './components/Todo';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"container is-fluid\">\r\n      <Todo />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}