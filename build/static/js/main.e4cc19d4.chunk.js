(this.webpackJsonpmy_todo=this.webpackJsonpmy_todo||[]).push([[0],{34:function(e,t,n){},36:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(10),r=n.n(c),s=n(25),i=n.n(s),o=(n(34),n(6)),u=n.n(o),l=n(11),d=n(13);n(36);var j=function(e){var t=e.item,n=e.onCheck;return Object(a.jsxs)("label",{className:"panel-block",children:[Object(a.jsx)("input",{type:"checkbox",checked:t.done,onChange:function(){n(t)}}),Object(a.jsx)("span",{className:t.done?"has-text-grey-light":"",children:t.text})]})};var p=function(e){var t=e.onAdd,n=r.a.useState(""),c=Object(d.a)(n,2),s=c[0],i=c[1];return Object(a.jsx)("div",{className:"panel-block",children:Object(a.jsx)("input",{class:"input",type:"text",placeholder:"Todo\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",value:s,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(t(s),i(""))}})})};var f=function(e){var t=e.value,n=e.onChange,c=function(e,t){t.preventDefault(),n(e)};return Object(a.jsxs)("div",{className:"panel-tabs",children:[Object(a.jsx)("a",{href:"#",onClick:c.bind(null,"ALL"),className:"ALL"===t?"is-active":"",children:"\u5168\u3066"}),Object(a.jsx)("a",{href:"#",onClick:c.bind(null,"TODO"),className:"TODO"===t?"is-active":"",children:"\u672a\u5b8c\u4e86"}),Object(a.jsx)("a",{href:"#",onClick:c.bind(null,"DONE"),className:"DONE"===t?"is-active":"",children:"\u5b8c\u4e86\u6e08\u307f"})]})},b=n(15),h=n(28),O=n(14);n(24);O.a.apps.length||O.a.initializeApp({apiKey:"AIzaSyBhSlGxvNLlKpHyfC7wlAaIK7CoZzDhMAM",authDomain:"fir-sample-f3651.firebaseapp.com",projectId:"fir-sample-f3651",storageBucket:"fir-sample-f3651.appspot.com",messagingSenderId:"712146105096",appId:"1:712146105096:web:b1a8cf609ac13e1b9ff2bd"});var v=O.a.firestore(),x=O.a.auth(),m=(O.a,function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.collection("todos").get();case 3:return t=e.sent,n=t.docs.map((function(e){return Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id})})),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()),g=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=v.collection("todos"),e.next=4,n.add(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=v.collection("todos").doc(n),e.next=4,a.update(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.collection("todos").doc(t.id),e.next=3,n.delete().then((function(){})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y={signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[O.a.auth.GoogleAuthProvider.PROVIDER_ID]},C=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,e.next=3,v.collection("users").doc(n).get();case 3:if((a=e.sent).exists){e.next=10;break}return e.next=7,v.collection("users").doc(n).set({name:t.displayName});case 7:return e.abrupt("return",{name:t.displayName,id:n});case 10:return e.abrupt("return",Object(b.a)({id:n},a.data()));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.firestore().collection("users").doc(t.id).get();case 3:if(!(a=e.sent).exists){e.next=7;break}return e.next=7,O.a.firestore().collection("users").doc(t.id).update(Object(b.a)(Object(b.a)({},a.data()),{},{image:n}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.a.storage().ref().child("/images/".concat(t.name)),a="",e.prev=2,e.next=5,n.put(t);case 5:return e.next=7,n.getDownloadURL();case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();var S=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){r()}),[n]);var r=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={text:t.text,done:t.done},e.next=3,g(c);case 3:a([].concat(Object(h.a)(n),[c]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(l.a)(u.a.mark((function e(t){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={done:!t.done},e.next=3,k(c,t.id);case 3:r=n.map((function(e){return e.id===t.id&&(e=Object(b.a)(Object(b.a)({},e),{},{changes:c})),e})),a(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return[n,s,i,function(){n.map((function(e){w(e)})),a([])}]};var D=function(){var e=S(),t=Object(d.a)(e,4),n=t[0],c=t[1],s=t[2],i=t[3],o=r.a.useState("ALL"),u=Object(d.a)(o,2),l=u[0],b=u[1],h=n.filter((function(e){return"ALL"===l||("TODO"===l?!e.done:"DONE"===l?e.done:void 0)})),O=function(e){s(e)};return Object(a.jsxs)("article",{class:"panel is-danger",children:[Object(a.jsx)("div",{className:"panel-heading",children:Object(a.jsxs)("span",{class:"icon-text",children:[Object(a.jsx)("span",{class:"icon",children:Object(a.jsx)("i",{class:"fas fa-calendar-check"})}),Object(a.jsx)("span",{children:" ITSS Todo\u30a2\u30d7\u30ea"})]})}),Object(a.jsx)(p,{onAdd:function(e){c({text:e,done:!1})}}),Object(a.jsx)(f,{onChange:function(e){return b(e)},value:l}),h.map((function(e){return Object(a.jsx)(j,{item:e,onCheck:O},e.key)})),Object(a.jsxs)("div",{className:"panel-block",children:[h.length," items"]}),Object(a.jsx)("div",{className:"panel-block",children:Object(a.jsx)("button",{className:"button is-light is-fullwidth",onClick:i,children:"\u5168\u3066\u306eToDo\u3092\u524a\u9664"})})]})},A=n(26),L=n.n(A);var T=function(){return Object(a.jsx)("div",{className:"column panel-block",children:Object(a.jsx)(L.a,{uiConfig:y,firebaseAuth:x})})};var E=function(e){var t=e.userImage,n=e.onSletctedImage,r=Object(c.useState)(!1),s=Object(d.a)(r,2),i=s[0],o=s[1],j=i?"is-active":"",p=Object(c.useState)(t),f=Object(d.a)(p,2),b=f[0],h=f[1],O=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,I(a);case 3:c=e.sent,n(c),h(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){o(!i)},x=function(){return b?Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:b,alt:"avatar"})}):Object(a.jsx)("i",{class:"fas fa-user"})};return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{className:"modal ".concat(j),children:[Object(a.jsx)("div",{class:"modal-background"}),Object(a.jsxs)("div",{class:"modal-content",children:[Object(a.jsx)("div",{class:"file is-boxed",children:Object(a.jsxs)("label",{class:"file-label",children:[Object(a.jsx)("input",{class:"file-input",type:"file",name:"resume",onChange:O}),Object(a.jsxs)("span",{class:"file-cta",children:[Object(a.jsx)("span",{class:"file-icon",children:Object(a.jsx)("i",{class:"fas fa-upload"})}),Object(a.jsx)("span",{class:"file-label",children:"\u753b\u50cf\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]})}),Object(a.jsx)("button",{class:"modal-close is-large","aria-label":"close",onClick:v})]})]}),Object(a.jsx)("button",{onClick:v,class:"button is-primary is-inverted",children:Object(a.jsx)("span",{class:"icon",children:Object(a.jsx)(x,{})})})]})};var F=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),o=i[0],j=i[1];Object(c.useEffect)((function(){x.onAuthStateChanged(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!1),n=null,!t){e.next=6;break}return e.next=5,C(t);case 5:n=e.sent;case 6:j(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var p=function(){x.signOut()},f=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(o,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){return o?Object(a.jsxs)("div",{class:"navbar-end",children:[Object(a.jsxs)("div",{class:"navbar-item",children:[Object(a.jsx)(E,{userImage:o.image,onSletctedImage:f}),o.name]}),Object(a.jsx)("div",{class:"navbar-item",children:Object(a.jsx)("button",{class:"button is-danger is-light is-small",onClick:p,children:" Logout"})})]}):Object(a.jsx)(T,{})};return Object(a.jsxs)("div",{className:"container is-fluid",children:[Object(a.jsx)("header",{class:"navbar",children:n?Object(a.jsx)("p",{children:"LOADING....."}):Object(a.jsx)(b,{})}),Object(a.jsx)("div",{children:o&&Object(a.jsx)(D,{})})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root")),B()}},[[48,1,2]]]);
//# sourceMappingURL=main.e4cc19d4.chunk.js.map